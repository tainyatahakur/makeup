{% extends 'website/homepage.html' %}
{% load static %}
{% block content %}
<link rel="icon" type="image/x-icon" href="{% static 'images/pgf.png' %}" />
<!--css-->
<link href="{% static 'css/index.css' %}" rel="stylesheet" />
<!--bootstrap-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
<script src="{% static 'js/cities.js' %}"></script>
<!--aos-->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
<!--gsap-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollToPlugin.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"></script>

<!--boxicons-->
<script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
<!--fontaweso-->
<script src="https://kit.fontawesome.com/8feaa5fbd6.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
<style>
  .swiper {
    width: 100%;
    height: 100%;
  }

  .swiper-slide {
    text-align: center;
    font-size: 18px;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>
</head>

<div class="main mx-auto"
  style="margin-top: -5em; background-image: url({% static 'images/1.jpg' %}); background-attachment: fixed; background-size: cover;">
  <div class="container-fluid mt-5" style="height: 40vh;">
    <div class="container">
      <h1 style="padding-top: 3em; text-align: left; font-size: 4em;">Book Now</h1>
    </div>
  </div>
  <div class="container-fluid bg-light mt-5 mx-auto">
    <div class="row">
      <div class="col-sm-6">
        <div class="swiper mySwiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="{% static 'images/1.jpg' %}" class="img-thumbnail">
            </div>
            <div class="swiper-slide">
              <img src="{% static 'images/2.jpg' %}" class="img-thumbnail">
            </div>
            <div class="swiper-slide">
              <img src="{% static 'images/1.jpg' %}" class="img-thumbnail">
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>

      </div>

      <div class="col-sm-6">
        <div class="container-fluid" style="color: rgb(0, 0, 0)">
          <div class="container-fluid text-center mt-5">
            <h1>Experience Now</h1>
          </div>

          <div class="container-fluid">
            <div class="row">

              <form class="row g-3 needs-validation mt-4" novalidate action="" method="POST">
                {% csrf_token %}

                <div class="col-md-4">
                  <label for="validationCustom01" class="form-label">First name</label>
                  <input type="text" class="form-control" id="validationCustom01" name="fname" required />

                </div>
                <div class="col-md-4">
                  <label for="validationCustom02" name='lname' class="form-label">Last name</label>
                  <input type="text" class="form-control" id="validationCustom02" name="lname" required />

                </div>
                <div class="col-md-4">
                  <label for="Contact" class="form-label">Phone Number</label>

                  <input type="text" id="phone" placeholder="Phone Number" class="form-control"
                    style="border: 1px solid rgb(216, 215, 215);" name="phone" />
                </div>
                <div class="col-md-12">
                  <label for="validationCustom03" class="form-label">Address</label>
                  <input type="text" class="form-control" id="validationCustom03" name="address" required />

                </div>

                <div class="col-md-6">
                  <label for="inputCity" class="form-label">State</label>
                  <select onchange="print_city('state', this.selectedIndex);" id="sts" name="state" class="form-control"
                    style="border: 1px solid rgb(216, 215, 215)" ; required></select>
                </div>

                <div class="col-md-3">
                  <label for="inputState" class="form-label">City</label>
                  <select id="state" name="city" class="form-control" required></select>
                </div>

                <div class="col-md-3">
                  <label for="validationCustom05" class="form-label">Zip</label>
                  <input type="text" class="form-control" id="validationCustom05" name="zip"
                    style="border: 1px solid rgb(216, 215, 215)" ; required />
                </div>



                <div class="col-md-6">
                  <label for="DateandTime" class="form-label">Date</label>
                  <input type="datetime-local" class="form-control mx-auto" placeholder="Select Date"
                    style="border: 1px solid rgb(216, 215, 215);" name="datentime" />
                </div>


                <div class="col-sm-6">
                  <!-- <select class="select2" multiple="multiple" name="services">
                              <option value="AL">Alabama</option>
                              <option value="AK">Alaska</option>
                              <option value="AZ">Arizona</option>
                              <option value="AR">Arkansas</option>
                              <option value="CA">California</option>
                              !more options
                            </select>   -->
                  <label class="form-label">Choose Service</label>
                  <select class="form-select" aria-label="Default select example" name="services">
                    <option selected>Open this select menu</option>

                    <option value="Makeup">Makeup</option>
                    <option value="HD Makeup">HD Makeup</option>
                    <option value="Matte Makeup">Matte Makeup</option>
                    <option value="Airbrush Makeup">Airbrush Makeup</option>
                    <option value="Glass Makeup">Glass Makeup</option>

                  </select>


                </div>

                <div class="col-sm-6 text-center mx-auto">
                  <div class="container text-center"
                    style="border: 1px solid rgb(216, 215, 215); border-radius: 10px; padding: 1em 1em 1em">
                    <h3>Select Time</h3>
                    <div class="form-check">
                      <input class="form-check-input text-center" type="radio" name="time" id="flexRadioDefault1"
                        style="border: 1px solid black" value="10am - 11am">
                      <label class="form-check-label" for="flexRadioDefault1">
                        10am - 11am
                      </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="time" id="flexRadioDefault1"
                        style="border: 1px solid black" value=" 11am - 12am">
                      <label class="form-check-label" for="flexRadioDefault1">
                        11am - 12am
                      </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="time" id="flexRadioDefault1"
                        style="border: 1px solid black" value=" 1pm - 2pm">
                      <label class="form-check-label" for="flexRadioDefault1">
                        1pm - 2pm
                      </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="time" id="flexRadioDefault1"
                        style="border: 1px solid black" value="3pm - 4pm">
                      <label class="form-check-label" for="flexRadioDefault1">
                        3pm - 4pm
                      </label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="time" id="flexRadioDefault1"
                        style="border: 1px solid black" value="5pm - 6pm">
                      <label class="form-check-label" for="flexRadioDefault1">
                        5pm - 6pm
                      </label>
                    </div>
                  </div>
                </div>

                <div class="col-12 text-center mb-2">
                  <button class="button" type="submit">Book</button>
                </div>
            </div>
          </div>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>
</form>
</div>
</div>
</div>
</div>
<script>
  console.log("C: ", date)
  $.ajax({
    type: 'POST',
    url: "{% url 'booking' %}",
    data: { 'date': date, 'csrfmiddlewaretoken': "{{csrf_token}}" },
    success: function (data) {
      console.log("Something: ", data['amount'], data['times'])
      console.log(data['times'])
      console.log(typeof data['times'])
      const somedata = JSON.parse(data['times']);
      const names = somedata.map(item => item.fields.name);
      console.log("Names: ", names);
      const radioButtonsContainer = document.getElementById("radio-buttons");

      radioButtonsContainer.innerHTML = '';

      names.forEach(name => {
        const radioButton = document.createElement("input");
        radioButton.type = "radio";
        radioButton.name = "timings";
        radioButton.value = name;
        radioButton.classList.add("col-md-6", "radiocss");
        radioButton.onclick = function getRadioValue() {
          // var radioButton = document.querySelector('input[name="timing"]:checked');
          // var radioValue = radioButton.value;
          console.log("radio Value: ", this.value)
          if (this.value == "10 AM") {
            console.log("10 AM DONE")
            $('#time').val(1)
          }
          if (this.value == "11 AM") {
            console.log("11 AM DONE")
            $('#time').val(2)
          }
          if (this.value == "12 PM") {
            console.log("12 PM DONE")
            $('#time').val(3)
          }
          if (this.value == "01 PM") {
            console.log("01 PM DONE")
            $('#time').val(4)
          }
          if (this.value == "02 PM") {
            console.log("02 PM DONE")
            $('#time').val(5)
          }
          if (this.value == "03 PM") {
            console.log("03 PM DONE")
            $('#time').val(6)
          }
          if (this.value == "04 PM") {
            console.log("04 PM DONE")
            $('#time').val(7)
          }
          if (this.value == "05 PM") {
            console.log("05 PM DONE")
            $('#time').val(8)
          }
</script>



<script language="javascript">
                          print_state("sts");
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
                        config = {
                          enableTime: false,
                          dateFormat: "Y-m-d",
                          disable: [],
                        };
                        flatpickr("input[type=datetime-local]", config);
</script>
<script src="{% static 'js/index.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<!-- <script>
      var swiper = new Swiper(".mySwiper", {
        direction: "vertical",
        slidesPerView: 1,
        spaceBetween: 30,
        mousewheel: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });
    </script> -->
{% endblock content %}
</body>

</html>





































